# ==============================================
# BeyondMoksha Blog API - Environment Variables
# ==============================================
# Copy this file to .env and fill in your values
# DO NOT commit the actual .env file to version control

# ----------------------------------------------
# Server Configuration
# ----------------------------------------------
PORT=8000
NODE_ENV=development
API_PREFIX=/api

# ----------------------------------------------
# CORS Configuration
# ----------------------------------------------
# Use '*' for development, specific domain for production
CORS_ORIGIN=*

# ----------------------------------------------
# Database Configuration
# ----------------------------------------------
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL=postgresql://username:password@localhost:5432/beyondmoksha_blog?schema=public

# ----------------------------------------------
# AWS S3 Configuration
# ----------------------------------------------
# AWS Credentials
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=ap-south-1

# S3 Bucket Name
S3_BUCKET=beyondmoksha.com

# Optional: CloudFront/CDN URL (if using CDN)
# S3_CDN_URL=https://cdn.yourdomain.com

# Presigned URL expiry time (in seconds)
# Default: 3600 seconds (1 hour)
PRESIGNED_URL_EXPIRY=3600

# ----------------------------------------------
# API Authentication
# ----------------------------------------------
# Admin API Key for protected endpoints
# Generate a strong random key: openssl rand -hex 32
ADMIN_API_KEY=your_secure_admin_api_key_here

# ----------------------------------------------
# Rate Limiting Configuration
# ----------------------------------------------
# General API rate limiting (requests per 15 minutes per IP)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Health check rate limiting (requests per 15 minutes per IP)
HEALTH_CHECK_RATE_LIMIT_WINDOW_MS=900000
HEALTH_CHECK_RATE_LIMIT_MAX_REQUESTS=1000

# ----------------------------------------------
# Logging Configuration
# ----------------------------------------------
# Log levels: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# Log file paths (relative to project root)
LOG_FILE_ERROR=logs/error.log
LOG_FILE_COMBINED=logs/combined.log

# ----------------------------------------------
# Content Processing
# ----------------------------------------------
# Maximum content size for HTML sanitization (in bytes)
# Default: 10MB
MAX_CONTENT_SIZE=10485760

# ----------------------------------------------
# Search Configuration (Optional)
# ----------------------------------------------
# Full-text search weight configuration
# SEARCH_TITLE_WEIGHT=A
# SEARCH_EXCERPT_WEIGHT=B
# SEARCH_TAGS_WEIGHT=C

# ----------------------------------------------
# Production Optimizations (Optional)
# ----------------------------------------------
# Enable/disable compression
# COMPRESSION_ENABLED=true

# Enable/disable request logging in production
# PRODUCTION_REQUEST_LOGGING=false
